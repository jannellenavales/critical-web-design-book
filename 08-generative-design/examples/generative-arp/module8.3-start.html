<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>After Jean Arp - 8.3-start</title>

    <!-- 
    Title: After Jean Arp - Module 2 (finished) / Module 3 (start)
    References: https://www.moma.org/collection/works/37013
    Author: Owen Mundy
    Date: 2023
    License: MIT
    -->

    <style>
        html,
        body {
            margin: 0;
            width: 100%;
            height: 100%;
            background-color: #22252C;
        }

        svg {
            /* background-color: red; */
            /* transform-box: fill-box;
            transform-origin: 50% 50%; */
        }

        svg polygon {
            /* transform-box: fill-box; */
            transform-origin: center;
        }
    </style>
</head>
<body>

    <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg"></svg>

    <script>

        // global
        let ele = document.querySelector("svg");

        // https://coolors.co/ff7b00-ff8800-ff9500-ffa200-ffaa00-ffb700-ffc300-ffd000-ffdd00-ffea00
        let colors = ["f72585", "b5179e", "7209b7", "560bad", "480ca8", "3a0ca3", "3f37c9", "4361ee", "4895ef", "4cc9f0"];

        // https://coolors.co/ff7b00-ff8800-ff9500-ffa200-ffaa00-ffb700-ffc300-ffd000-ffdd00-ffea00
        colors = ["ff7b00", "ff8800", "ff9500", "ffa200", "ffaa00", "ffb700", "ffc300", "ffd000", "ffdd00", "ffea00"];

        // generate
        function generate() {
            let output = '';
            let count = randomInt(6, 12);

            let winW = window.innerWidth,
                winH = window.innerHeight;

            for (let i = 0; i < count; i++) {
                // parameters
                let w = randomInt(winW * .05, winW * .12),
                    h = randomInt(winH * .05, winH * .12),
                    x = randomInt(winW * .2, winW * .8) - (w * .5),
                    y = randomInt(winH * .2, winH * .8) - (h * .5),
                    // min/max scale
                    min = .9,
                    max = 1.1;

                // w = 100; h = 100
                // x = 0; y = 0;

                // output += `<circle r="${randomInt(5, 30)}" fill="${randomHex()}"
                //         cx="${x}" cy="${y}"></circle> `;

                // create points to define polygon [x1,y1 x2,y2 x3,y3 x4,y4] 
                let points = `
                    ${-randomInt(w * min, w * max)},${-randomInt(h * min, h * max)} 
                    ${randomInt(w * min, w * max)},${-randomInt(h * min, h * max)} 
                    ${randomInt(w * min, w * max)},${randomInt(h * min, h * max)} 
                    ${-randomInt(w * min, w * max)},${randomInt(h * min, h * max)} 
                    `;
                output += `<polygon fill="#${randomFromArray(colors)}" 
                            stroke="none" points="${points}" 
                            transform ="translate(${x},${y}) rotate(${randomInt(-1, 1)})" />`



                console.log(output)
            }
            // display
            ele.innerHTML = output;
        }

        // helpers
        function randomInt(min = 1, max = 100) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        function randomHex() {
            let hex = "", chars = "0123456789abcdef";
            for (let i = 0; i < 6; i++) {
                hex += chars[randomInt(0, chars.length - 1)];
            }
            return "#" + hex;
        }
        function randomFromArray(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }
        // function fillArray(arr, count){
        //     let newArr = []
        //     let colors = [],
        //         count = randomInt(6, 10);
        //     for (let i = 0; i < count; i++) {
        //         newArr.push(PALETTE_ARR.random())
        //     }
        //     // remove one color for the background
        //     document.body.style.backgroundColor = colors.splice(0, 1);
        //     return colors;
        // }

        // listeners
        window.addEventListener("load", generate);
        document.addEventListener("click", generate);


    </script>

</body>
</html>