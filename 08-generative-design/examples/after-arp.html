<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>After Jean Arp</title>

    <!-- 
    Title: After Jean Arp
    References: https://www.moma.org/collection/works/37013
    Author: Owen Mundy
    Date: 2023
    License: MIT
    -->

    <style>
        html,
        body {
            margin: 0;
            background-color: #22252C;
        }
    </style>
</head>
<body>

    <svg width="100%" height="90%" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg" version="1.1">
    </svg>


    <script src="../../assets/js/palette.js"></script>
    <script src="../../assets/js/functions.js"></script>
    <script>
        let svg = document.querySelector("svg")

        function reset() {
            svg.innerHTML = "";
            document.body.style.backgroundColor = PALETTE_ARR.random();
        }

        function generate() {
            reset();
            // create colors
            let colors = [], colorsCount = randomInt(6, 10);
            for (let i = 0; i < colorsCount; i++) {
                colors.push(randomHex())
            }
            // create squares
            let squaresCount = randomInt(6, 12);
            for (let i = 0; i < squaresCount; i++) {
                let w = randomInt(80, 130),
                    h = randomInt(80, 130),
                    x = randomInt(150, window.innerWidth - 220),
                    y = randomInt(150, window.innerHeight - 200),
                    min = .85,
                    max = 1.15;
                let points = [
                    `${x - randomInt(w * min, w * max)},${y - randomInt(h * min, h * max)}`,
                    `${x + randomInt(w * min, w * max)},${y - randomInt(h * min, h * max)}`,
                    `${x + randomInt(w * min, w * max)},${y + randomInt(h * min, h * max)}`,
                    `${x - randomInt(w * min, w * max)},${y + randomInt(h * min, h * max)}`,
                ]
                // display
                svg.insertAdjacentHTML('beforeend',
                    ` <polygon fill="${PALETTE_ARR.random()}" stroke="none" points="${points.join(" ")}" />`);
            }
        }
        generate();

        document.addEventListener("click", generate);
        // document.addEventListener("keydown", reset);

    </script>

</body>
</html>