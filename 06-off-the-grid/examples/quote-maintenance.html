<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Quote (Maintenance)</title>

    <!-- 
    Title: Maintenance is a drag
    Author: Owen Mundy
    Date: 2023
    License: MIT
    -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap" rel="stylesheet">

    <style>
        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: black;
            font-family: 'Roboto Slab', serif;
            color: white;
            font-size: 3vw;
        }

        .container {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            background-color: white;
        }

        svg {
            margin: 0 auto;
            display: block;
            /* background-color: aqua; */
        }

        .text {
            position: absolute;
            z-index: 10;
        }
    </style>

</head>
<body>

    <div class="container">
        <div class="text"></div>
        <div class="svg"></div>
    </div>
    <script src="../../assets/js/functions.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/3.2.0/svg.min.js"></script>
    <script>

        // Mierle Laderman Ukeles, Manifesto for Maintenance Art (1969)
        // https://queensmuseum.org/wp-content/uploads/2016/04/Ukeles-Manifesto-for-Maintenance-Art-1969.pdf
        // Maintenance is a drag; it takes all the fucking time
        // let words = `
        //     clean your desk, 
        //     wash the dishes, 
        //     clean the floor,
        //     wash your clothes, 
        //     wash your toes, 
        //     change the baby’s diaper, 
        //     finish the report, 
        //     correct the typos, 
        //     mend the fence, 
        //     keep the customer happy, 
        //     throw out the stinking garbage, 
        //     watch out don’t put things in your nose, 
        //     what shall I wear, 
        //     I have no sox, 
        //     pay your bills, 
        //     don’t litter, 
        //     save string, 
        //     wash your hair, 
        //     change the sheets,
        //     go to the store, 
        //     I’m out of perfume, 
        //     say it again—he doesn’t understand, 
        //     seal it again—it leaks, 
        //     go to work, 
        //     this art is dusty, 
        //     clear the table, 
        //     call him again,
        //     flush the toilet, 
        //     stay young.
        // `.split(/[,.;]+/);

        let words = `
            wake up,
            get caffeine,
            schedule the call,
            answer the email,
            drive to campus,
            find my phone,
            drop off the child,
            login with Duo,
            mark it as spam,
            do the cybersecurity training,
            grade the papers,
            unsubscribe from the list, 
            read the notice,
            click confirm on Moodle,
            learn student names,
            encourage class attendance,
            enter your password,
            write learning objectives,
            attend the faculty meeting,
            file the syllabus,
            clean the desk, 
            back up the hard drive,
            join the committee,
            install the update,
            finish the report, 
            correct the typos, 
            what shall I wear, 
            pay the bill, 
            go to the store, 
            pick up the child,
            make dinner,
            get some exercise,
            wash your clothes, 
            go to the opening,
            wash the dishes, 
            be happy,
            wind down,
            go to sleep
        `.split(/[,.;]+/);

        let word = 0;

        SVG.on(document, 'DOMContentLoaded', function () {
            let w = 1000, h = w;
            var draw = SVG().addTo('.svg').size(w, h)
            const text = document.querySelector(".text");
            setInterval(function () {
                drawSVG()
                drawText()
            }, 400)

            function drawSVG() {
                // var rect = draw.rect(100, 100).attr({ fill: '#f06' })
                // polygon.plot([[0,0], [100,50], [50,100], [150,50], [200,50]])
                var polygon = draw.polygon('0,0').fill('none').attr({ fill: '#f06' })

                let points = randomInt(3, 9)
                let arr = [];
                for (let i = 0; i < points; i++) {
                    let x, y
                    if (i < points * .15) {
                        x = randomInt(w * .1, w * .2)
                        y = randomInt(h * .4, h * .6)
                    } else if (i < points * .25) {
                        x = randomInt(w * .1, w * .2)
                        y = randomInt(h * .1, h * .2)
                    } else if (i < points * .35) {
                        x = randomInt(w * .4, w * .6)
                        y = randomInt(h * .1, h * .2)
                    } else if (i < points * .5) {
                        x = randomInt(w * .8, w * .9)
                        y = randomInt(h * .1, h * .2)
                    } else if (i < points * .65) {
                        x = randomInt(w * .8, w * .9)
                        y = randomInt(h * .4, h * .6)
                    } else if (i < points * .75) {
                        x = randomInt(w * .8, w * .9)
                        y = randomInt(h * .8, h * .9)
                    } else if (i < points * .85) {
                        x = randomInt(w * .4, w * .6)
                        y = randomInt(h * .8, h * .9)
                    } else {
                        x = randomInt(w * .1, w * .2)
                        y = randomInt(h * .8, h * .9)
                    }
                    arr.push([x, y])
                }
                // console.log(arr)
                let { r, g, b } = randomRgb()
                // console.log(`rgb(${r},${g},${b})`)
                polygon.plot(arr).attr({ fill: `rgba(${r},${65},${b}, .2)` })
                    .opacity(0).animate(1500).opacity(1)

                let rotatation = Math.random() * -5;
                if (Math.random() > .5) rotatation = Math.abs(rotatation);
                polygon
                    .animate(2500)
                    .opacity(0)
                    .transform({ rotate: rotatation, origin: 'center' }, true)
                    .after(function () {
                        this.element().remove()
                    })
            }

            function drawText() {
                for (let i = 0; i < 5; i++) {
                    // console.log(words[word].trim())
                    text.innerHTML = words[word++].trim();
                    if (word > words.length - 1) word = 0;
                    break;
                }
            }
        })


    </script>

</body>
</html>